v0.1 2023.11.20 Sherlock init
v0.2 2024.02.21 Sherlock

简介：本文分析Linux内核里内存迁移的基本逻辑，内核中有很多地方要使用内存迁移，本文
      聚焦在NUMA balance中引起的内存迁移。

基本逻辑
---------

在NUMA系统上，不同CPU和内存之间的距离不同，为了提高系统性能，Linux内核里会进行所谓
的NUMA balance，它的目的是动态的调整程序运行的CPU或者程序使用的内存，使得CPU和内存
尽量在一个NUMA域里。

对于内存的调整，内核会周期性的断开VA到PA的页表映射，这样当访问内存时就会触发缺页
异常，内核在处理缺页异常时进行必要的内存迁移。

需要注意的是，打开NUMA balance后，内核一定会周期性的断开VA到PA的映射，对于不需要
做内存迁移的情况，内核把页表重新配置好，这个开销相对来说是比较小的。


代码分析
---------

知乎上的[这篇](https://zhuanlan.zhihu.com/p/635383566)文章对NUMA balance的代码分析的已经很好了。

再次整理下代码。
